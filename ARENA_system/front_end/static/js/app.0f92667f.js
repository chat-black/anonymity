(function(e){function t(t){for(var i,o,n=t[0],r=t[1],c=t[2],p=0,h=[];p<n.length;p++)o=n[p],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&h.push(s[o][0]),s[o]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);d&&d(t);while(h.length)h.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],i=!0,n=1;n<a.length;n++){var r=a[n];0!==s[r]&&(i=!1)}i&&(l.splice(t--,1),e=o(o.s=a[0]))}return e}var i={},s={app:0},l=[];function o(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=i,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(a,i,function(t){return e[t]}.bind(null,i));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],r=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var d=r;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0156":function(e,t,a){"use strict";a("fa7c")},"034f":function(e,t,a){"use strict";a("85ec")},"05f6":function(e,t,a){e.exports=a.p+"static/img/step4.eccf60c9.jpg"},"0ced":function(e,t,a){"use strict";a("8fe0")},1094:function(e,t,a){"use strict";a("8840")},"138e":function(e,t,a){},"2aff":function(e,t,a){e.exports=a.p+"static/img/step3.5092fd68.jpg"},"2b44":function(e,t,a){},"4d1a":function(e,t,a){"use strict";a("a82f")},"56d7":function(e,t,a){"use strict";a.r(t);var i=a("a026"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},l=[],o={name:"App"},n=o,r=(a("034f"),a("2877")),c=Object(r["a"])(n,s,l,!1,null,null,null),d=c.exports,p=a("8c4f"),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("el-container",{staticClass:"layout-container"},[a("el-header",{staticClass:"el-header"},[a("div",{staticClass:"title"},[a("span",[e._v("ARENA")])])]),a("el-container",[a("el-aside",{staticStyle:{height:"90vh"},attrs:{width:"300px"}},[a("el-scrollbar",{staticStyle:{height:"100%"},attrs:{wrapStyle:"overflow-x:hidden;"}},[a("el-menu",{attrs:{"active-text-color":"#409EFF","default-active":"2-1-1"}},[a("el-submenu",{attrs:{index:"1"},scopedSlots:e._u([{key:"title",fn:function(){return[a("i",{staticClass:"el-icon-s-data"}),a("span",[e._v("Database Information")])]},proxy:!0}])},e._l(e.tableList,(function(t,i){return a("el-submenu",{key:i,attrs:{index:i},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(i))]},proxy:!0}],null,!0)},e._l(t,(function(t,i){return a("el-menu-item",{key:i,attrs:{index:i}},[e._v(" "+e._s(i)+" ("+e._s(t)+") ")])})),1)})),1),a("el-submenu",{attrs:{index:"6"},scopedSlots:e._u([{key:"title",fn:function(){return[a("i",{staticClass:"el-icon-s-operation"}),a("span",[e._v("Method")])]},proxy:!0}])},[a("el-menu-item",{attrs:{index:"6-1"}},[a("el-radio-group",{on:{change:e.methodChange},model:{value:e.methodRadio,callback:function(t){e.methodRadio=t},expression:"methodRadio"}},[a("el-radio",{staticClass:"smallRightMargin",attrs:{label:0}},[e._v("AQP")]),a("el-radio",{staticClass:"smallRightMargin",attrs:{label:1}},[e._v("Cost_Based")]),a("el-radio",{staticClass:"smallRightMargin",attrs:{label:2}},[e._v("Random")])],1)],1)],1),a("el-submenu",{attrs:{index:"2"},scopedSlots:e._u([{key:"title",fn:function(){return[a("i",{staticClass:"el-icon-s-order"}),a("span",[e._v("Parameter")])]},proxy:!0}])},[a("el-menu-item-group",{staticClass:"largeMenuItem"},[a("el-menu-item",{staticClass:"noHighLight",attrs:{index:"2-1-1"}},[a("el-form",{attrs:{"label-width":"90px","label-position":"left",model:e.queryForm,size:"mini"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0===e.methodRadio,expression:"methodRadio === 0"}],attrs:{label:"Model"}},[a("el-switch",{attrs:{"active-text":"I-AQP","inactive-text":"B-AQP"},model:{value:e.queryForm.mode,callback:function(t){e.$set(e.queryForm,"mode",t)},expression:"queryForm.mode"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.queryForm.mode,expression:"!queryForm.mode"}],attrs:{label:"Number"}},[a("el-input",{model:{value:e.queryForm.number,callback:function(t){e.$set(e.queryForm,"number",t)},expression:"queryForm.number"}})],1),a("el-form-item",{attrs:{label:"S_weight"}},[a("el-input",{model:{value:e.queryForm.s_weight,callback:function(t){e.$set(e.queryForm,"s_weight",t)},expression:"queryForm.s_weight"}})],1),a("el-form-item",{attrs:{label:"C_weight"}},[a("el-input",{model:{value:e.queryForm.c_weight,callback:function(t){e.$set(e.queryForm,"c_weight",t)},expression:"queryForm.c_weight"}})],1),a("el-form-item",{attrs:{label:"Cost_weight"}},[a("el-input",{model:{value:e.queryForm.cost_weight,callback:function(t){e.$set(e.queryForm,"cost_weight",t)},expression:"queryForm.cost_weight"}})],1),a("el-form-item",{attrs:{label:"lambda"}},[a("el-input",{model:{value:e.queryForm.lambda,callback:function(t){e.$set(e.queryForm,"lambda",t)},expression:"queryForm.lambda"}})],1),a("el-form-item",{attrs:{label:"Filter Limit"}},[a("el-input",{model:{value:e.queryForm.filter,callback:function(t){e.$set(e.queryForm,"filter",t)},expression:"queryForm.filter"}})],1)],1)],1)],1)],1),a("el-submenu",{attrs:{index:"5"},scopedSlots:e._u([{key:"title",fn:function(){return[a("i",{staticClass:"el-icon-s-tools"}),a("span",[e._v("Setting")])]},proxy:!0}])},[a("el-menu-item",{attrs:{index:"5-1"}},[a("el-switch",{attrs:{"active-text":"Compare Plan"},model:{value:e.isComparePlan,callback:function(t){e.isComparePlan=t},expression:"isComparePlan"}})],1),a("el-menu-item",{attrs:{index:"5-2"}},[a("el-switch",{attrs:{"active-text":"Different Color"},model:{value:e.isDifferentColor,callback:function(t){e.isDifferentColor=t},expression:"isDifferentColor"}})],1),a("el-menu-item",{attrs:{index:"5-2"}},[a("el-switch",{attrs:{"active-text":"Early Access"},on:{change:e.changeEarlyAccess},model:{value:e.isEarlyAccess,callback:function(t){e.isEarlyAccess=t},expression:"isEarlyAccess"}})],1)],1),a("el-submenu",{attrs:{index:"3"},scopedSlots:e._u([{key:"title",fn:function(){return[a("i",{staticClass:"el-icon-s-comment"}),a("span",[e._v("Suggest")])]},proxy:!0}])},[a("el-menu-item-group",{staticStyle:{height:"130px"}},[a("el-menu-item",{staticClass:"noHighLight",attrs:{index:"3-1"}},[a("el-input",{staticStyle:{"font-size":"13px"},attrs:{type:"textarea",rows:6,placeholder:"Please input your suggestion."},model:{value:e.userSuggestion,callback:function(t){e.userSuggestion=t},expression:"userSuggestion"}})],1)],1),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"3-2"}},[a("el-button",{attrs:{size:"mini"},on:{click:e.submitSuggest}},[e._v("Submit")])],1)],1)],1),a("el-submenu",{attrs:{index:"4"},scopedSlots:e._u([{key:"title",fn:function(){return[a("i",{staticClass:"el-icon-question"}),a("span",[e._v("Help")])]},proxy:!0}])},[a("el-menu-item",{attrs:{index:"4-1"}},[a("router-link",{attrs:{tag:"a",target:"_blank",to:"about"}},[e._v(" About ")])],1)],1)],1)],1)],1),a("el-main",[a("el-row",{staticClass:"el-row",attrs:{gutter:20}},[a("el-col",{staticClass:"el-col",attrs:{span:9}},[a("el-row",{staticClass:"el-row"},[a("el-input",{attrs:{type:"textarea",placeholder:"Input your SQL or select an example SQL",autosize:{minRows:10,maxRows:20}},model:{value:e.SQLstatement,callback:function(t){e.SQLstatement=t},expression:"SQLstatement"}})],1),a("el-row",{staticClass:"el-row",attrs:{gutter:10}},[a("el-col",{staticClass:"el-col",attrs:{span:7}},[a("el-select",{attrs:{placeholder:"Example SQL",clearable:""},on:{change:function(t){return e.loadSQLFile(t)},clear:e.clearTextarea},model:{value:e.selectedSQL,callback:function(t){e.selectedSQL=t},expression:"selectedSQL"}},e._l(e.SQLFiles,(function(t){return a("el-option",{key:t,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])})),1)],1),a("el-col",{staticClass:"el-col",attrs:{span:2}},[a("el-button",{attrs:{loading:e.isLoading,type:"primary"},on:{click:e.submitSQL}},[e._v("Execute")])],1)],1),a("el-row",{staticClass:"el-row"},[a("el-col",{staticClass:"el-col"},[e.tableData.length>0?a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[e.tableData.length>0?a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"highlight-current-row":"","default-sort":{prop:"number"},stripe:""},on:{"current-change":e.handleTableSelect,"row-click":e.handleTableSelect}},[a("el-table-column",{attrs:{prop:"number",label:"Id",sortable:""}}),a("el-table-column",{attrs:{prop:"cost",label:"Cost",sortable:""}}),a("el-table-column",{attrs:{prop:"s_dist",label:"S_dist",sortable:""}}),a("el-table-column",{attrs:{prop:"c_dist",label:"C_dist",sortable:""}}),a("el-table-column",{attrs:{prop:"cost_dist",label:"Cost_dist"}})],1):e._e()],1):e._e()],1)],1)],1),a("el-col",{staticClass:"el-col",attrs:{span:15}},[a("el-card",{directives:[{name:"show",rawName:"v-show",value:null!=e.needToDraw,expression:"needToDraw != null"}],staticClass:"box-card"},[a("draw-tree",{ref:"drawTree"})],1)],1)],1)],1)],1)],1)],1)},u=[],f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.g_loading,expression:"g_loading"}],staticStyle:{width:"calc(100% - 10px)",height:"calc(100vh - 140px)"}},[a("SeeksRelationGraph",{ref:"seeksRelationGraph",attrs:{options:e.graphOptions,"on-node-click":e.handleClickNode}})],1)])},m=[],g=a("0491"),v=a.n(g),b={name:"DrawTree",components:{SeeksRelationGraph:v.a},data(){return{g_loading:!0,graphOptions:{layouts:[{label:"中心",layoutName:"tree",defaultJunctionPoint:"border",defaultNodeShape:0,defaultLineShape:1,centerOffset_y:0,min_per_width:"60",min_per_height:"150",max_per_height:"300"}],defaultExpandHolderPosition:"bottom",defaultLineShape:4,defaultJunctionPoint:"tb",defaultNodeShape:1,defaultNodeWidth:"50",defaultNodeHeight:"250",defaultNodeBorderWidth:0,defaultNodeColor:"#f8e3c5",defaultNodeFontColor:"#606266",defaultLineColor:"#606266",moveToCenterWhenResize:!1,allowShowMiniNameFilter:!1}}},created(){},mounted(){this.setGraphData({rootId:1,nodes:[{id:1,text:"",color:"white",width:100,height:50}],links:[]},!1)},methods:{setGraphData(e,t){this.setDiffColor(e,t),setTimeout(function(){this.g_loading=!1,this.$refs.seeksRelationGraph.setJsonData(e,e=>{})}.bind(this),1e3)},handleClickNode(e,t){let a=localStorage.getItem("isEarlyAccess");console.log(a),"false"!==a&&(""!==e.data.info&&void 0!==e.data.info?this.$notify({title:"Index Info",message:e.data.info}):console.log("没有需要展示的数据: ",e.data.info))}}},S=b,y=Object(r["a"])(S,f,m,!1,null,"7922be4e",null),x=y.exports,_={name:"HelloWorld",components:{DrawTree:x},data(){return{dbName:"school",tableList:{},SQLstatement:"",selectedSQL:"",SQLFiles:[],isLoading:!1,tableData:[],isComparePlan:!1,isDifferentColor:!0,isEarlyAccess:!1,userSuggestion:"",queryForm:{mode:!1,s_weight:.33,c_weight:.33,cost_weight:.33,lambda:.5,number:5,filter:.5},needToDraw:null,methodRadio:0}},methods:{methodChange(e){0!==e&&(this.queryForm.mode=!1)},getSQLFiles(){console.log(Object({NODE_ENV:"production",VUE_APP_BASE_API:"/prod-api",BASE_URL:"/"}).BASE_API),this.$axios.get("/sqlFile").then(e=>{for(var t in e.data)this.SQLFiles.push(e.data[t]);this.SQLFiles.sort((function(e,t){return Number(e.split(".")[0])-Number(t.split(".")[0])}))}).catch(e=>{console.log("获取sql文件列表失败"),console.log(e),this.SQLFiles=[]})},getDBInfo(){this.$axios.get("/databaseInfo/"+this.dbName).then(e=>{this.tableList=JSON.parse(e.data)}).catch(e=>{console.log("获取数据库信息失败"),console.log(e),this.tableList={"请求数据库失败":{"Cat't":"get dbInfo"}}})},getCookie(e){let t=document.cookie,a=t.split("; ");for(let i of a){let t=i.split("=");if(t[0]===e)return t[1]}return""},clearTextarea(){this.SQLstatement="",this.tableData=[],this.needToDraw=null},loadSQLFile(e){if(this.clearCookie("pid"),this.selectedSQL.length>0){var t="/sqlFile/"+this.selectedSQL;this.$axios.get(t).then(e=>{this.SQLstatement=e.data}).catch(e=>{console.log("请求sql文件内容失败, 目标sql文件为："+this.selectedSQL),console.log(e),this.SQLstatement="I can't load the sql file ╮(╯-╰)╭"}),this.tableData=[],this.needToDraw=null}},submitSQL(){if(console.log("点击按钮"),""===this.SQLstatement)return void this.$message({message:"Please input the SQL!",showClose:!0,type:"warning"});this.isLoading=!0;let e=new FormData,t=this.SQLstatement.toLowerCase(),a=t.split("\n");for(let l=0;l<a.length;l++){let e=a[l],t=e.indexOf("--");-1!==t&&(e=e.substring(0,t)),a[l]=e}t=a.join("\n"),t=t.replace(/\s+/g," "),e.append("statement",t),e.append("fileName",this.selectedSQL);for(let l in this.queryForm)e.append(l,this.queryForm[l]);e.append("method",this.methodRadio);let i=this.queryForm["mode"],s=this.queryForm["mode"].toString()+this.queryForm["s_weight"].toString()+this.queryForm["c_weight"].toString()+this.queryForm["cost_weight"].toString()+this.queryForm["lambda"].toString();s!==localStorage.getItem("formInfo")&&(this.clearCookie("pid"),localStorage.setItem("formInfo",s)),this.$axios.post("/search",e,{header:{"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{if(console.log("发送SQL查询请求成功!"),console.log(e.data),!1===i&&(this.tableData=[],this.clearCookie("pid")),!0===i){let t=e.data.flag;if(!0===t["clear"]&&(this.tableData=[]),e.data=[[this.tableData.length,e.data.data]],!0===t["end"])return this.$message({message:"No more plan",showClose:!0,type:"warning"}),void(this.isLoading=!1)}let t,a;for(let i in e.data){let s={rootId:null,nodes:[],links:[],TABLE:{},SCAN:{},JOIN:{},diffInfo:null};t={number:e.data[i][0]},a=JSON.parse(e.data[i][1]),t.cost=a.cost.toFixed(1),t.c_dist=a.c_dist.toFixed(2),t.s_dist=a.s_dist.toFixed(2),t.cost_dist=a.cost_dist.toFixed(2),t.workerType=a.workerType,localStorage[t.number]=t.workerType;let l=1,o=a.content;o.parent="-1";let n=[o],r=(new Date).getTime().toString();s.rootId=this.selectedSQL+"_"+t.number+"_1_"+o.name+"_"+r;while(n.length>0){let e=n.length;for(let a=0;a<e;a++){let e=n.shift(),a={id:this.selectedSQL+"_"+t.number+"_"+l.toString()+"_"+e.name+"_"+r,text:e.name+"\nCost:"+e.cost.toFixed(1),width:100,height:50,data:{info:""}};if(""!==e.info&&(a.data.info=e.info),e.id=a.id,"TABLE"===e.tag?(s.TABLE[a.id]=!0,a.text=e.name):"SCAN"===e.tag?s.SCAN[a.id]=!0:"JOIN"===e.tag&&(s.JOIN[a.id]=!0),l++,s.nodes.push(a),"-1"!==e.parent){let t={from:e.parent,to:a.id};s.links.push(t)}if(e.child_flag)for(let t of e.child)t.parent=a.id,n.push(t)}}s.diffInfo=this.generateDiffInfo(a.content),console.log("生成的树结构为：",s),t.tree=s,this.tableData.push(t)}this.isLoading=!1}).catch(e=>{this.$message({message:"SQL Execution Failed",showClose:!0,type:"error"}),this.isLoading=!1,console.log("发送SQL查询请求失败!"),console.log(e)})},submitSuggest(){if(""===this.userSuggestion)return void this.$message({message:"suggestion is empty!",showClose:!0,type:"warning"});let e=new FormData;e.append("uid",this.getCookie("uid")),e.append("suggestion",this.userSuggestion),this.$axios.post("/suggest",e,{header:{"Content-Type":"application/x-www-form-urlencoded"}}).then(()=>{this.$message({message:"thank you for your suggestion!",showClose:!0,type:"success"}),this.userSuggestion=""}).catch(e=>{this.$message({message:"Can't send the suggestion.",showClose:!0,type:"error"}),console.log("发送建议失败!"),console.log(e)})},handleTableSelect(e){if(!1===this.isComparePlan){console.log("选择的数据为：",e),this.needToDraw=e.tree;for(let e=0;e<this.needToDraw.nodes.length;e++)delete this.needToDraw.nodes[e].flated;this.$refs.drawTree.setGraphData(this.needToDraw,this.isDifferentColor)}else{let t=(new Date).getTime().toString()+"_"+this.selectedSQL+"_"+e.number,a=null;for(let e of this.tableData)0===e.number&&(a=e);for(let l=0;l<e.tree.nodes.length;l++)delete e.tree.nodes[l].flated;for(let e=0;e<a.tree.nodes.length;e++)delete a.tree.nodes[e].flated;let i=JSON.stringify([a.tree,e.tree]);localStorage.setItem(t,i),localStorage.setItem(t+"diffColor",this.isDifferentColor);let s=this.$router.resolve({path:"/compareTree",query:{index:t}});window.open(s.href)}},generateDiffInfo(e){let t=this.generateScanInfo(e),a={};for(let o of t)for(let e in o)a[e]=o[e];let i=this.generateJoinTree(e),s=this.generateJoinInfo(i),l={};return l["scanInfo"]=a,l["joinInfo"]=s,l},generateScanInfo(e){let t=e;if(0===Object.keys(t).length)return[];if("SCAN"===t.tag){let e=t.child,a={};return a[e[0].name]=[t.name,e[0].id],[a]}let a=[];for(let i of t.child){let e=this.generateScanInfo(i);e.length>0&&(a=a.concat(e))}return a},generateJoinInfo(e){let t={level:{},map:{}},a=1,i=[e];while(0!==i.length){let e=i.length;t.level[a]=[];for(let s=0;s<e;s++){let e=i.shift();if("JOIN"===e.tag){t.level[a].push(e.id);let s=[];for(let t of e.child)s.push(t.id),i.push(t);t.map[e.id]=s}}a++}a--,delete t.level[a];for(let s=1,l=a-1;s<l;s++,l--){let e=t.level[s];t.level[s]=t.level[l],t.level[l]=e}return t},generateJoinTree(e){let t=e;if(0===Object.keys(t).length)return{};if("TABLE"===t.tag)return{tag:t.tag,id:t.id,child:[]};if("JOIN"===t.tag){let e={tag:t.tag,id:t.id,child:[]};for(let a of t.child){let t=this.generateJoinTree(a);Object.keys(t).length>0&&e.child.push(t)}return e}return t.child.length>1?(this.$message({message:"dfsTree Wrong: "+t.name+"有两个子节点",showClose:!0,type:"error"}),{}):this.generateJoinTree(t.child[0])},changeEarlyAccess(e){localStorage.setItem("isEarlyAccess",e.toString())},clearCookie(e){let t=new Date;t.setTime(t.getTime()+-864e5);let a="expires="+t.toUTCString();document.cookie=e+"=; "+a}},mounted(){this.getSQLFiles(),this.getDBInfo(),localStorage.setItem("isEarlyAccess","false"),localStorage.setItem("formInfo","")}},w=_,C=(a("1094"),a("0156"),Object(r["a"])(w,h,u,!1,null,"563999e2",null)),k=C.exports,N=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"about"},[i("el-container",{staticClass:"layout-container"},[i("el-header",{staticClass:"el-header"},[i("div",{staticClass:"title"},[i("span",[e._v("ARENA")])]),i("div",{staticClass:"headMenu"},[i("el-menu",{staticClass:"el-menu",attrs:{"background-color":"#C6E2FF","active-text-color":"#606266",mode:"horizontal"}},[i("el-submenu",{attrs:{index:"1"}},[i("template",{slot:"title"},[e._v("Language")]),i("el-menu-item",{staticClass:"linkNoLine",attrs:{index:"1-1"}},[i("router-link",{staticStyle:{color:"#303133"},attrs:{tag:"a",to:"about"}},[e._v(" English ")])],1),i("el-menu-item",{staticClass:"linkNoLine",attrs:{index:"1-2"}},[i("router-link",{staticStyle:{color:"#303133"},attrs:{tag:"a",to:"zh-cn/about"}},[e._v(" 简体中文 ")])],1)],2)],1)],1)]),i("el-main",{attrs:{id:"largeFont"}},[i("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[i("el-collapse-item",{attrs:{title:"What is ARENA?",name:"1"}},[i("div",{staticStyle:{"font-size":"16px"}},[i("ul",[i("li",[e._v(" ARENA is a system that helps users learn database optimization knowledge. ")]),i("li",[e._v(" For a SQL, it will return not only the optimal plan whose execution time is smallest but also k valuable alternative plans. ")]),i("li",[e._v(" Users can learn the optimization knowledge used in the optimizer and why the plan is optimal by comparing the difference between alternative plans and the optimal plan. ")])])])]),i("el-collapse-item",{attrs:{title:"How to use it?",name:"2"}},[i("el-collapse",{staticStyle:{"margin-left":"14px"},attrs:{accordion:""}},[i("div",{attrs:{id:"mediumFont"}},[i("el-collapse-item",{attrs:{title:"Step 1",name:"3"}},[i("el-card",{attrs:{"body-style":{padding:"0px"},shadow:"hover"}},[i("div",{staticStyle:{"text-align":"center","margin-top":"14px"}},[i("img",{staticClass:"image",attrs:{src:a("f33d")}})]),i("div",{staticStyle:{padding:"14px","font-size":"16px"}},[i("span",[e._v('First step, enter a SQL statement or select an SQL instance, then click the "Execute" button.')])])])],1),i("el-collapse-item",{attrs:{title:"Step 2",name:"4"}},[i("el-card",{attrs:{"body-style":{padding:"0px"},shadow:"hover"}},[i("div",{staticStyle:{"text-align":"center","margin-top":"14px"}},[i("img",{staticClass:"image",attrs:{src:a("848d")}})]),i("div",{staticStyle:{padding:"14px","font-size":"16px"}},[i("span",[e._v('Second step, after clicking the "Execute" button and returning successfully, you will get a table like this where each row represents a plan. The plan with id 0 is the best plan and others are alternative plans. The information represented by each column in the table is:')]),i("ul",[i("li",[e._v(" Cost: Execution cost of each plan. The costs are measured in arbitrary units determined by the planner's cost parameters. Traditional practice is to measure the costs in units of disk page fetches. For convenience, you can think of it as execution time. ")]),i("li",[e._v(" S_dist: Structural distance between the current plan and the best plan ")]),i("li",[e._v(" C_dist: The content distance between the current plan and the best plan ")]),i("li",[e._v(" Cost_dist: The distance between the execution time of the current plan and the best plan ")])]),i("span",[e._v(" If you click on a row, the detailed plan tree for that plan will be displayed on the right. ")])])])],1),i("el-collapse-item",{attrs:{title:"Step 3",name:"5"}},[i("el-card",{attrs:{"body-style":{padding:"0px"},shadow:"hover"}},[i("div",{staticStyle:{"text-align":"center","margin-top":"14px"}},[i("img",{staticClass:"image",attrs:{src:a("2aff")}})]),i("div",{staticStyle:{padding:"14px","font-size":"16px"}},[i("span",[e._v("Third step, the sidebar displays some additional information and provides some control options.")]),i("ul",[i("li",[e._v(" Database Information: This section shows the details of the database, what tables it contains, and the fields of each table. ")]),i("li",[i("b",[e._v(' Feedback: This section is used to collect the information we need. We hope that for "5.sql" and "6.sql", you can choose two plans from the alternative plans. One is the plan you think is the most valuable, and the other is the least valuable. We would also like you to tell us why you chose these two plans. (P.S. A plan is valuable if you can learn something through the difference between it and the best plan. If you can\'t learn anything, it\'s worthless.) ')])]),i("li",[e._v(" Setting: "),i("ul",[i("li",[e._v(" Compare Plan: If you turn it on, when you click on the table in Step 2, a graph of the difference between the best plan and the current plan will be drawn. ")]),i("li",[e._v(" Different Color: whether to use different colors to represent different operators in the plan tree. ")])])]),i("li",[e._v(" Suggest: If you have any suggestions for ARENA, whether it's the features or the UI, you can send it to us through this section. ")])])])])],1)],1)])],1),i("el-collapse-item",{attrs:{title:"Info about the database?",name:"7"}},[i("div",{staticStyle:{"font-size":"16px","margin-left":"14px"}},[e._v(" For more information about the database, please refer to the "),i("a",{attrs:{href:"https://www.db-book.com/university-lab-dir/sample_tables-dir/index.html",target:"_blank"}},[e._v("link")]),e._v(". ")])]),i("el-collapse-item",{attrs:{title:"Other questions?",name:"6"}},[i("div",{staticStyle:{"font-size":"16px","margin-left":"14px"}},[e._v(" Please contact "),i("i",[e._v("wh2mail@163.com")]),e._v(" . ")])])],1)],1)],1)],1)},F=[],I={name:"About",data(){return{activeNames:""}}},A=I,E=(a("9b57"),a("4d1a"),Object(r["a"])(A,N,F,!1,null,"8ec29bb6",null)),T=E.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"compareTree"}},[a("el-container",{staticClass:"layout-container"},[a("el-header",{staticClass:"el-header"},[a("div",{staticClass:"title"},[a("span",[e._v("ARENA")])]),a("div",{staticClass:"compareTreeMenu"},[a("el-menu",{staticClass:"el-menu",attrs:{"background-color":"#C6E2FF","active-text-color":"#606266",mode:"horizontal"}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[e._v("Setting")]),a("el-menu-item",{staticClass:"compareTreeMenu",attrs:{index:"1-1"}},[a("el-switch",{attrs:{"active-text":"Show Difference Info"},model:{value:e.showDiff,callback:function(t){e.showDiff=t},expression:"showDiff"}})],1),a("el-menu-item",{staticClass:"compareTreeMenu",attrs:{index:"1-1"}},[a("el-switch",{attrs:{"active-text":"Show ToolTip"},model:{value:e.showToolTip,callback:function(t){e.showToolTip=t},expression:"showToolTip"}})],1)],2)],1)],1)]),a("el-container",[a("el-aside",{directives:[{name:"show",rawName:"v-show",value:e.showDiff,expression:"showDiff"}],staticStyle:{height:"90vh"},attrs:{width:"300px"}},[a("el-collapse",{staticClass:"my-collapse",model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-collapse-item",{attrs:{title:"SCAN DIFFERENCE",name:"1"}},[e.isScanDiff?e._e():a("div",[e._v(" The scan operation of tables is same. ")]),e.isScanDiff?a("div",{staticClass:"diffTable"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Click to locate the operator",placement:"top","hide-after":"2000",disabled:!e.showToolTip}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.scanTableData,"highlight-current-row":"","default-sort":{prop:"name"}},on:{"row-click":e.tableRowSelect}},[a("el-table-column",{attrs:{prop:"name",label:"Name"}}),a("el-table-column",{attrs:{prop:"qep",label:"QEP"}}),a("el-table-column",{attrs:{prop:"ap",label:"AP"}})],1)],1)],1):e._e()]),e.isJoinDiff?a("el-collapse-item",{attrs:{title:"JOIN DIFFERENCE",name:"2"}},[1===e.isJoinDiff?a("div",[e._v(" The join operation of tables is same. ")]):e._e(),2===e.isJoinDiff?a("div",[e._v(" The join tree structure is different. ")]):e._e(),3===e.isJoinDiff?a("div",{staticClass:"diffTable"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top","hide-after":"4000",disabled:!e.showToolTip}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("Click '>' to show more info. "),a("br"),a("br"),e._v(" Click row to locate the operator.")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.joinTableData,"highlight-current-row":"","default-sort":{prop:"order"}},on:{"row-click":e.tableRowSelect}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"QEP"}},[a("span",[e._v(e._s(t.row.qep))])]),a("el-form-item",{attrs:{label:"AP"}},[a("span",[e._v(e._s(t.row.ap))])])],1)]}}],null,!1,2802590729)}),a("el-table-column",{attrs:{prop:"order",label:"Order"}}),a("el-table-column",{attrs:{prop:"message",label:"Description",width:"170px"}})],1)],1)],1):e._e()]):e._e()],1)],1),a("el-main",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-card",[a("div",[a("div",{staticStyle:{width:"calc(100% - 10px)",height:"calc(100vh - 140px)"}},[a("SeeksRelationGraph",{ref:"bestRelationGraph",attrs:{options:e.graphOptions,"on-node-click":e.handleClickNode}})],1)]),a("div",{staticStyle:{"text-align":"center","font-size":"large",color:"#409EFF"}},[e._v(" Best Plan (QEP) ")])])],1),a("el-col",{attrs:{span:12}},[a("el-card",[a("div",[a("div",{staticStyle:{width:"calc(100% - 10px)",height:"calc(100vh - 140px)"}},[a("SeeksRelationGraph",{ref:"selectedRelationGraph",attrs:{options:e.graphOptions,"on-node-click":e.handleClickNode}})],1)]),a("div",{staticStyle:{"text-align":"center","font-size":"large",color:"#409EFF"}},[e._v(" Alternative Plan (AP): "+e._s(e.planId)+" ")])])],1)],1)],1)],1)],1)],1)},D=[],q={name:"CompareTree",components:{SeeksRelationGraph:v.a},data(){return{data_index:this.$route.query.index,data_buffer:null,planId:null,showDiff:!0,showToolTip:!0,isScanDiff:!1,isJoinDiff:1,scanTableData:[],joinTableData:[],activeName:["1","2"],graphOptions:{layouts:[{label:"中心",layoutName:"tree",defaultJunctionPoint:"border",defaultNodeShape:0,defaultLineShape:1,centerOffset_y:0,min_per_width:"60",min_per_height:"150",max_per_height:"300"}],defaultExpandHolderPosition:"bottom",defaultLineShape:4,defaultJunctionPoint:"tb",defaultNodeShape:1,defaultNodeWidth:"50",defaultNodeHeight:"250",defaultNodeBorderWidth:0,defaultNodeColor:"#f8e3c5",defaultNodeFontColor:"#606266",defaultLineColor:"#606266",moveToCenterWhenResize:!1,allowShowMiniNameFilter:!1}}},mounted(){let e;null==this.data_buffer&&(this.data_buffer=JSON.parse(localStorage[this.data_index]),console.log("树的信息为：",this.data_buffer),e=localStorage[this.data_index+"diffColor"],e="true"===e,localStorage.removeItem(this.data_index),localStorage.removeItem(this.data_index+"diffColor"));let t=this.data_index.split("_");this.planId=t[t.length-1],this.setDiffInfo(this.data_buffer[0],this.data_buffer[1]),this.setDiffColor(this.data_buffer[0],e),this.setDiffColor(this.data_buffer[1],e),setTimeout(function(){this.$refs.bestRelationGraph.setJsonData(this.data_buffer[0],e=>{})}.bind(this),1e3),setTimeout(function(){this.$refs.selectedRelationGraph.setJsonData(this.data_buffer[1],e=>{})}.bind(this),1e3)},methods:{clearStorage(){localStorage.clear()},tableRowSelect(e){this.$refs.bestRelationGraph.focusNodeById(e["qepId"]),this.$refs.selectedRelationGraph.focusNodeById(e["apId"])},handleClickNode(e,t){"false"!==localStorage.getItem("isEarlyAccess")&&""!==e.data.info&&void 0!==e.data.info&&this.$notify({title:"Index Info",message:e.data.info})},setDiffInfo(e,t){let a=e.diffInfo.scanInfo,i=t.diffInfo.scanInfo;for(let c in a)a[c][0]!==i[c][0]&&(this.isScanDiff=!0,this.scanTableData.push({name:c,qep:a[c][0],ap:i[c][0],qepId:a[c][1],apId:i[c][1]}));let s={},l=e.diffInfo.joinInfo.level,o=e.diffInfo.joinInfo.map,n=t.diffInfo.joinInfo.level,r=t.diffInfo.joinInfo.map;if(0!==Object.keys(l).length)if(Object.keys(l).length===Object.keys(n).length){for(let e in l)if(l[e].length!==n[e].length)return void(this.isJoinDiff=2);for(let e in l){let t=l[e],a=n[e];for(let i=0;i<t.length;i++){console.log(e,i);let l,n,c,d,p=t[i],h=a[i],u=o[p][0],f=o[p][1],m=r[h][0],g=r[h][1];if(console.log(u),u=this.getChildTable(u,s),f=this.getChildTable(f,s),m=this.getChildTable(m,s),g=this.getChildTable(g,s),s[p]={left:u,right:f},s[h]={left:m,right:g},l=e+"-"+(i+1),c=this.getNameFromId(p)+": ",d=this.getNameFromId(h)+": ",this.eqSet(u,m)&&this.eqSet(f,g)||this.eqSet(u,g)&&this.eqSet(f,m))if(this.eqSet(u,m)){if(c===d)continue;n="different join operator"}else n="different join order";else n="joined table is different";c=c+this.printSet(u)+" X "+this.printSet(f),d=d+this.printSet(m)+" X "+this.printSet(g),this.isJoinDiff=3,this.joinTableData.push({order:l,message:n,qep:c,ap:d,qepId:p,apId:h})}}}else this.isJoinDiff=2},eqSet(e,t){if(e.size!==t.size)return!1;for(let a of e)if(!t.has(a))return!1;return!0},printSet(e){let t="[ ";for(let a of e)t+=a,t+=" ";return t+="]",t},getNameFromId(e){return e.split("_")[3]},typeOfName(e){return-1!==e.indexOf("Join")?"JOIN":"TABLE"},getChildTable(e,t){return"JOIN"===this.typeOfName(this.getNameFromId(e))?new Set([...t[e].left,...t[e].right]):new Set([this.getNameFromId(e)])}}},P=q,R=(a("fd53"),a("f803"),Object(r["a"])(P,L,D,!1,null,"a6c1fb96",null)),Q=R.exports,O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"about"},[i("el-container",{staticClass:"layout-container"},[i("el-header",{staticClass:"el-header"},[i("div",{staticClass:"title"},[i("span",[e._v("ARENA")])]),i("div",{staticClass:"guideMenu"},[i("el-menu",{staticClass:"el-menu",attrs:{"background-color":"#C6E2FF","active-text-color":"#606266",mode:"horizontal"}},[i("el-submenu",{attrs:{index:"1"}},[i("template",{slot:"title"},[e._v("Language")]),i("el-menu-item",{staticClass:"guideMenu",attrs:{index:"1-1"}},[i("router-link",{staticStyle:{color:"#303133"},attrs:{tag:"a",to:"guide"}},[e._v(" English ")])],1),i("el-menu-item",{staticClass:"guideMenu",attrs:{index:"1-2"}},[i("router-link",{staticStyle:{color:"#303133"},attrs:{tag:"a",to:"zh-cn/guide"}},[e._v(" 简体中文 ")])],1)],2)],1)],1)]),i("el-main",{staticClass:"el-main",staticStyle:{height:"85vh"},attrs:{id:"largeFont"}},[i("el-steps",{attrs:{active:e.activeStep,"finish-status":"success"}},[i("el-step",{attrs:{title:"Step 1"}}),i("el-step",{attrs:{title:"Step 2"}}),i("el-step",{attrs:{title:"Step 3"}}),i("el-step",{attrs:{title:"Step 4"}}),i("el-step",{attrs:{title:"Step 5"}})],1),i("el-card",{directives:[{name:"show",rawName:"v-show",value:0===e.activeStep,expression:"activeStep === 0"}],staticStyle:{height:"60vh","margin-top":"40px","font-size":"18px"}},[i("p",[e._v(" Please follow this guide to complete the survey. ")]),i("p",[e._v(" For better presentation, please use PC. ")])]),i("el-card",{directives:[{name:"show",rawName:"v-show",value:1===e.activeStep,expression:"activeStep === 1"}],staticStyle:{height:"60vh","margin-top":"40px","font-size":"18px"}},[i("ul",[i("li",{staticStyle:{"margin-bottom":"15px"}},[e._v(" Please refer to this "),i("router-link",{attrs:{tag:"a",target:"_blank",to:"/"}},[e._v(" link ")]),e._v(" to access the ARENA system. ")],1),i("li",{staticStyle:{"margin-bottom":"15px"}},[e._v(" Refer to this "),i("router-link",{attrs:{tag:"a",target:"_blank",to:"/about"}},[e._v(" link ")]),e._v(" for help on how to use the ARENA system. ")],1)]),i("div",{staticStyle:{"line-height":"40px"}},[e._v(' Firstly, please refer to the above two links to learn how to use the ARENA system. In particular, read the "how to use it" section of the help page carefully. '),i("br"),e._v(" In this step, you don't need to think about how to complete the survey, you just need to be able to use the ARENA system. ")])]),i("el-card",{directives:[{name:"show",rawName:"v-show",value:2===e.activeStep,expression:"activeStep === 2"}],staticStyle:{height:"60vh","margin-top":"40px","font-size":"18px"}},[i("div",{staticStyle:{"text-align":"center","margin-bottom":"20px"}},[i("img",{staticClass:"image",attrs:{src:a("05f6")}})]),i("div",{staticStyle:{"line-height":"40px"}},[e._v(" When you can use the ARENA system, please use the given SQL examples to view the best plan and corresponding alternative plans for different SQL. "),i("br"),e._v(" Compare the difference between the alternative plans and the best plan and examine how these differences affect the Cost. Try to think about why. ")])]),i("el-card",{directives:[{name:"show",rawName:"v-show",value:3===e.activeStep,expression:"activeStep === 3"}],staticStyle:{"margin-top":"40px","font-size":"18px"}},[i("div",{staticStyle:{"text-align":"center","margin-bottom":"20px"}},[i("img",{staticClass:"image",attrs:{src:a("71ca")}})]),i("div",{staticStyle:{"line-height":"20px"}},[i("p",[e._v(" You have seen how to use the ARENA system using SQL examples and understood the the results it returns. ")]),i("p",{staticStyle:{color:"#409EFF"}},[e._v(' Now, please check carefully the results of "5.sql" and "6.sql" in the example, and send us the feedback, which is the main part of the survey. ')]),i("p",[e._v(" For each of these two SQLs(5.sql and 6.sql), you need to feed back the following information: ")]),i("ul",[i("li",{staticStyle:{"margin-bottom":"20px",color:"#409EFF"}},[e._v(" The ID of the alternative plan you think is the most valuable and the reason. ")]),i("li",{staticStyle:{color:"#409EFF"}},[e._v(" The ID of the alternative plan you think is the least valuable and the reason. ")])]),i("p",{staticStyle:{"font-size":"14px","text-indent":"20px","font-style":"italic",color:"#909399"}},[e._v(" (P.S. A plan is valuable if you can learn something through the difference between it and the best plan. If you can't learn anything, it's worthless.) ")]),i("p",{staticStyle:{"font-size":"14px","text-indent":"20px","font-style":"italic",color:"#409EFF"}},[e._v(" (P.S. When the page displays the results of 5.sql, the feedback information is associated with 5.sql. The same is true for 6.sql.) ")]),i("p",[e._v(' Fill this information into the form shown above and click the "submit" button to submit. For each of "5.sql" and "6.sql", you need to submit it once. If a duplicate submission is made to one of them, the previous feedback will be overwritten. ')]),i("p",[e._v(" *** This step is the key to the survey, please complete it carefully. *** ")])])]),i("el-card",{directives:[{name:"show",rawName:"v-show",value:4===e.activeStep,expression:"activeStep === 4"}],staticStyle:{height:"60vh","margin-top":"40px"}},[i("div",{staticStyle:{"text-align":"center","margin-bottom":"20px"}},[i("img",{staticClass:"image",attrs:{src:a("c939")}})]),i("p",[e._v(" Finally, if you have any suggestions for the ARENA system, please give us feedback through the section shown above. Any suggestions are welcome. ")]),i("p",[e._v(" Congratulations, you have completed the survey ! ")])])],1),i("el-footer",{staticClass:"footer"},[i("el-form",[i("el-form-item",[i("el-button",{staticStyle:{width:"120px","margin-right":"40px"},attrs:{type:"primary"},on:{click:e.previousStep}},[e._v(" Previous Step ")]),i("el-button",{staticStyle:{width:"120px"},attrs:{type:"primary"},on:{click:e.nextStep}},[e._v(" Next Step ")])],1)],1)],1)],1)],1)},z=[],j={name:"Guide",data(){return{activeStep:0}},methods:{previousStep(){0!==this.activeStep&&(this.activeStep-=1)},nextStep(){this.activeStep<4&&(this.activeStep+=1)}}},J=j,$=(a("7e78"),a("d7f0"),Object(r["a"])(J,O,z,!1,null,"40860885",null)),M=$.exports,G=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"about"},[i("el-container",{staticClass:"layout-container"},[i("el-header",{staticClass:"el-header"},[i("div",{staticClass:"title"},[i("span",[e._v("ARENA")])]),i("div",{staticClass:"guideMenu"},[i("el-menu",{staticClass:"el-menu",attrs:{"background-color":"#C6E2FF","active-text-color":"#606266",mode:"horizontal"}},[i("el-submenu",{attrs:{index:"1"}},[i("template",{slot:"title"},[e._v("Language")]),i("el-menu-item",{staticClass:"guideMenu",attrs:{index:"1-1"}},[i("router-link",{staticStyle:{color:"#303133"},attrs:{tag:"a",to:"/guide"}},[e._v(" English ")])],1),i("el-menu-item",{staticClass:"guideMenu",attrs:{index:"1-2"}},[i("router-link",{staticStyle:{color:"#303133"},attrs:{tag:"a",to:"guide"}},[e._v(" 简体中文 ")])],1)],2)],1)],1)]),i("el-main",{staticClass:"el-main",staticStyle:{height:"85vh"},attrs:{id:"largeFont"}},[i("el-steps",{attrs:{active:e.activeStep,"finish-status":"success"}},[i("el-step",{attrs:{title:"Step 1"}}),i("el-step",{attrs:{title:"Step 2"}}),i("el-step",{attrs:{title:"Step 3"}}),i("el-step",{attrs:{title:"Step 4"}}),i("el-step",{attrs:{title:"Step 5"}})],1),i("el-card",{directives:[{name:"show",rawName:"v-show",value:0===e.activeStep,expression:"activeStep === 0"}],staticStyle:{height:"60vh","margin-top":"40px","font-size":"18px"}},[i("p",{staticClass:"cnParagraph"},[e._v(" 请跟随本指导来完成这次的用户调查。 ")]),i("p",{staticClass:"cnParagraph"},[e._v(" 为了更好的展示效果，请使用 PC 访问。 ")])]),i("el-card",{directives:[{name:"show",rawName:"v-show",value:1===e.activeStep,expression:"activeStep === 1"}],staticStyle:{height:"60vh","margin-top":"40px","font-size":"18px"}},[i("ul",[i("li",{staticClass:"cnParagraph",staticStyle:{"margin-bottom":"15px"}},[e._v(" 请跟随这个 "),i("router-link",{attrs:{tag:"a",target:"_blank",to:"/"}},[e._v(" 链接 ")]),e._v(" 来访问 ARENA 系统。 ")],1),i("li",{staticClass:"cnParagraph",staticStyle:{"margin-bottom":"15px"}},[e._v(" 请跟随这个 "),i("router-link",{attrs:{tag:"a",target:"_blank",to:"/zh-cn/about"}},[e._v(" 链接 ")]),e._v(" 来访问 ARENA 系统的说明文档。 ")],1)]),i("div",{staticClass:"cnParagraph",staticStyle:{"line-height":"40px"}},[e._v(' 首先，请参考上述两个链接来熟悉如何使用 ARENA 系统。为了掌握如何使用，请特别仔细阅读说明文档中的 "how to use it" 部分。 '),i("br"),e._v(" 在这一步，不需要关心如何完成用户调查，只需了解如何使用 ARENA 系统即可。 ")])]),i("el-card",{directives:[{name:"show",rawName:"v-show",value:2===e.activeStep,expression:"activeStep === 2"}],staticStyle:{height:"60vh","margin-top":"40px","font-size":"18px"}},[i("div",{staticStyle:{"text-align":"center","margin-bottom":"20px"}},[i("img",{staticClass:"image",attrs:{src:a("05f6")}})]),i("div",{staticClass:"cnParagraph",staticStyle:{"line-height":"40px"}},[e._v(" 当您大概了解 ARENA 系统的功能后，请尝试用给出的样例SQL来观察 best plan 和 alternative plan 之间的差别。 "),i("br"),e._v(" 找一找 best plan 与 alternative plan 之间的差别并检查这些差别是如何影响最终 cost 的。尝试思考为什么会是这样的影响。 ")])]),i("el-card",{directives:[{name:"show",rawName:"v-show",value:3===e.activeStep,expression:"activeStep === 3"}],staticStyle:{"margin-top":"40px","font-size":"18px"}},[i("div",{staticStyle:{"text-align":"center","margin-bottom":"20px"}},[i("img",{staticClass:"image",attrs:{src:a("71ca")}})]),i("div",{staticStyle:{"line-height":"20px"}},[i("p",{staticClass:"cnParagraph"},[e._v(" 您已经知道如何使用样例SQL来操作 ARENA 系统，并能基本理解其返回结果的含义。 ")]),i("p",{staticClass:"cnParagraph",staticStyle:{color:"#409EFF"}},[e._v(' 现在，来到了此次用户调查的关键部分，请您仔细查看样例SQL中 "5.sql" 和 “6.sql" 返回的结果，并发送给我们相应的反馈。 ')]),i("p",{staticClass:"cnParagraph"},[e._v(" 对于这两条SQL（5.sql 和 6.sql）中的每一条，您都需要发送以下信息： ")]),i("ul",{staticClass:"cnParagraph"},[i("li",{staticStyle:{"margin-bottom":"20px",color:"#409EFF"}},[e._v(" 您认为最有价值的 alternative plan 的 ID 以及 您选择它的理由。 ")]),i("li",{staticStyle:{color:"#409EFF"}},[e._v(" 您认为的最没有价值的 alternative plan 的 ID 以及 您选择它的理由。 ")])]),i("p",{staticClass:"cnParagraph",staticStyle:{"font-size":"14px","text-indent":"20px","font-style":"italic",color:"#909399"}},[e._v(" (注： 如果您能通过某个 alternative plan 与 best plan 之间的对比掌握到有意思的信息，那么这个 alternative plan 就是有价值的。如果您无法了解到任何信息，那么它就是没有价值的。) ")]),i("p",{staticClass:"cnParagraph",staticStyle:{"font-size":"14px","text-indent":"20px","font-style":"italic",color:"#409EFF"}},[e._v(" (注： 发送反馈信息时，您无需指明这个反馈信息是关于 5.sql 的还是 6.sql 的。当页面上展示 5.sql 的结果时，您发送的反馈信息会自动与 5.sql 相关联，对于 6.sql 也一样。) ")]),i("p",{staticClass:"cnParagraph"},[e._v(' 将反馈信息输入到上图所示的表单中，并点击 "submit" 按钮进行提交。对于 "5.sql" 和 ”6.sql" 中的每一个，您都需要提交一次。 如果您对同一个SQL进行重复提交，先前的反馈信息会被后面的信息覆盖。 ')]),i("p",{staticClass:"cnParagraph"},[e._v(" *** 这一步是用户调查的关键步骤，请您仔细完成 *** ")])])]),i("el-card",{directives:[{name:"show",rawName:"v-show",value:4===e.activeStep,expression:"activeStep === 4"}],staticStyle:{height:"60vh","margin-top":"40px","font-size":"18px"}},[i("div",{staticStyle:{"text-align":"center","margin-bottom":"20px"}},[i("img",{staticClass:"image",attrs:{src:a("c939")}})]),i("p",{staticClass:"cnParagraph"},[e._v(" 最后，如果您对 ARENA 系统有任何建议（无论是 ARENA 系统的功能还是它的展示界面或者其它的方面），请通过 Suggest 部分向我们发送反馈。 ")]),i("p",{staticClass:"cnParagraph"},[e._v(" 本次问卷调查已结束，谢谢您的参与。 ")])])],1),i("el-footer",{staticClass:"footer"},[i("el-form",[i("el-form-item",[i("el-button",{staticStyle:{width:"120px","margin-right":"40px"},attrs:{type:"primary"},on:{click:e.previousStep}},[e._v(" Previous Step ")]),i("el-button",{staticStyle:{width:"120px"},attrs:{type:"primary"},on:{click:e.nextStep}},[e._v(" Next Step ")])],1)],1)],1)],1)],1)},B=[],W={name:"cnGuide",data(){return{activeStep:0}},methods:{previousStep(){0!==this.activeStep&&(this.activeStep-=1)},nextStep(){this.activeStep<4&&(this.activeStep+=1)}}},H=W,U=(a("0ced"),a("e858"),Object(r["a"])(H,G,B,!1,null,"3652595d",null)),V=U.exports,X=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"about"},[i("el-container",{staticClass:"layout-container"},[i("el-header",{staticClass:"el-header"},[i("div",{staticClass:"title"},[i("span",[e._v("ARENA")])]),i("div",{staticClass:"headMenu"},[i("el-menu",{staticClass:"el-menu",attrs:{"background-color":"#C6E2FF","active-text-color":"#606266",mode:"horizontal"}},[i("el-submenu",{attrs:{index:"1"}},[i("template",{slot:"title"},[e._v("Language")]),i("el-menu-item",{staticClass:"linkNoLine",attrs:{index:"1-1"}},[i("router-link",{staticStyle:{color:"#303133"},attrs:{tag:"a",to:"/about"}},[e._v(" English ")])],1),i("el-menu-item",{staticClass:"linkNoLine",attrs:{index:"1-2"}},[i("router-link",{staticStyle:{color:"#303133"},attrs:{tag:"a",to:"/zh-cn/about"}},[e._v(" 简体中文 ")])],1)],2)],1)],1)]),i("el-main",{attrs:{id:"largeFont"}},[i("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[i("el-collapse-item",{attrs:{title:"ARENA 系统是什么?",name:"1"}},[i("div",{staticStyle:{"font-size":"16px"}},[i("ul",{staticClass:"cnParagraph"},[i("li",[e._v(" ARENA 系统是一个帮助用户学习数据库优化知识的辅助系统 ")]),i("li",[e._v(" 对于一条SQL查询，ARENA 系统不仅可以返回执行时间最短的最优计划（QEP），而且能够根据需要返回 k 个有价值的候选计划 ")]),i("li",[e._v(" 通过比较最优计划与候选计划之间的差异，用户可以直观地理解数据库优化器利用的优化规则以及优化器为什么选择这个最优计划 ")])])])]),i("el-collapse-item",{attrs:{title:"怎样使用 ARENA 系统？",name:"2"}},[i("el-collapse",{staticStyle:{"margin-left":"14px"},attrs:{accordion:""}},[i("div",{attrs:{id:"mediumFont"}},[i("el-collapse-item",{attrs:{title:"Step 1",name:"3"}},[i("el-card",{attrs:{"body-style":{padding:"0px"},shadow:"hover"}},[i("div",{staticStyle:{"text-align":"center","margin-top":"14px"}},[i("img",{staticClass:"image",attrs:{src:a("f33d")}})]),i("div",{staticStyle:{padding:"14px","font-size":"16px"}},[i("span",{staticClass:"cnParagraph"},[e._v('第一步，在文本框中输入一条SQL语句或者选择一个SQL样例，之后点击 "Execute" 按钮')])])])],1),i("el-collapse-item",{attrs:{title:"Step 2",name:"4"}},[i("el-card",{attrs:{"body-style":{padding:"0px"},shadow:"hover"}},[i("div",{staticStyle:{"text-align":"center","margin-top":"14px"}},[i("img",{staticClass:"image",attrs:{src:a("848d")}})]),i("div",{staticClass:"cnParagraph",staticStyle:{padding:"14px","font-size":"16px"}},[i("span",[e._v('第二步，点击 "Execute" 按钮并等到系统成功返回后，将会得到一个如上图所示的表格。其中每一行代表一个 plan，id 为0 的 plan 是数据库选择的最优计划，其它的则是 alternative plan，表格中每一列的信息如下：')]),i("ul",[i("li",[e._v(" Cost: 当前 plan 的执行代价，这个代价的单位是不确定的，并且它的绝对值没有意义，只有不同 plan 之间的相对值才有意义。 通常来说它代表着执行这条查询时从磁盘中获取数据的代价，简单起见，可以将它大致认为是该 plan 的执行时间。 ")]),i("li",[e._v(" S_dist: 当前 plan 与最优计划之间 结构 差异的大小。 ")]),i("li",[e._v(" C_dist: 当前 plan 与最优计划之间 内容 差异的大小。 ")]),i("li",[e._v(" Cost_dist: 当前 plan 与最优计划之间 cost 差异的大小。 ")])]),i("span",[e._v(" 如果点击某一行，该行所代表的 plan 的执行计划树将会在右侧进行展示。 ")])])])],1),i("el-collapse-item",{attrs:{title:"Step 3",name:"5"}},[i("el-card",{attrs:{"body-style":{padding:"0px"},shadow:"hover"}},[i("div",{staticStyle:{"text-align":"center","margin-top":"14px"}},[i("img",{staticClass:"image",attrs:{src:a("2aff")}})]),i("div",{staticClass:"cnParagraph",staticStyle:{padding:"14px","font-size":"16px"}},[i("span",[e._v("第三步，侧栏展示了一些额外的信息并提供了一些控制选项: ")]),i("ul",[i("li",[e._v(" Database Information: 这一部分展示了数据库的详细信息，包括该数据库有哪些表以及每个表里有哪些属性。 ")]),i("li",[i("b",[e._v(' Feedback: 这一部分用于我们在用户调查时收集用户的反馈信息。我们希望您可以仔细查看样例SQL中 "5.sql" 和 "6.sql" 返回的结果，并且对这两个中的每一个都反馈以下信息：您认为最有价值的 alternative plan 的 id 是多少，为什么；您认为 最没有价值的 alternative plan 的 id 是多少，为什么。 (注： 如果您能通过某个 alternative plan 与 best plan 之间的对比掌握到有意思的信息，那么这个 alternative plan 就是有价值的。如果您无法了解到任何信息， 那么它就是没有价值的。) ')])]),i("li",[e._v(" Setting: "),i("ul",[i("li",[e._v(" Compare Plan: 是否打开新的标签页对比选中的 alternative plan 与 best plan 之间的差别。 ")]),i("li",[e._v(" Different Color: 在绘制 plan 的执行树时，是否使用不同的颜色标识不同的操作符。 ")])])]),i("li",[e._v(" Suggest: 对于 ARENA 系统，如果您有任何的建议，都可以通过这一部分发送给我们，我们会非常重视您的建议。 ")])])])])],1)],1)])],1),i("el-collapse-item",{attrs:{title:"关于数据库模式的详细信息？",name:"7"}},[i("div",{staticClass:"cnParagraph",staticStyle:{"font-size":"16px","margin-left":"14px"}},[e._v(" 如果您想了解关于当前数据库中表的详细信息，您可以参考这个 "),i("a",{attrs:{href:"https://www.db-book.com/university-lab-dir/sample_tables-dir/index.html",target:"_blank"}},[e._v("链接")]),e._v(". ")])]),i("el-collapse-item",{attrs:{title:"别的问题？",name:"6"}},[i("div",{staticClass:"cnParagraph",staticStyle:{"font-size":"16px","margin-left":"14px"}},[e._v(" 请联系该邮箱："),i("i",[e._v("wh2mail@163.com")]),e._v(" . ")])])],1)],1)],1)],1)},Y=[],K={name:"cnAbout",data(){return{activeNames:""}}},Z=K,ee=(a("b445"),a("7a9f"),Object(r["a"])(Z,X,Y,!1,null,"5fce549c",null)),te=ee.exports;i["default"].use(p["a"]);var ae=new p["a"]({mode:"hash",routes:[{path:"/",name:"HelloWorld",component:k},{path:"/about",name:"about",component:T},{path:"/compareTree",name:"compareTree",component:Q},{path:"/guide",name:"Guide",component:M},{path:"/zh-cn/guide",name:"cnGuide",component:V},{path:"/zh-cn/about",name:"cnAbout",component:te}]}),ie=a("5c96"),se=a.n(ie),le=(a("0fae"),a("bc3a")),oe=a.n(le);i["default"].config.productionTip=!1,i["default"].use(se.a),oe.a.defaults.baseURL="http://82.157.149.11:6003/",i["default"].prototype.$axios=oe.a,i["default"].prototype.setDiffColor=function(e,t){if(t){let t=e.TABLE,a=e.SCAN,i=e.JOIN;for(let s=0;s<e.nodes.length;s++){let l=e.nodes[s].id,o=e.nodes[s].text;l in t?e.nodes[s].color="#f4f4f5":l in a?(e.nodes[s].color="#c6e2ff",-1!==o.search("TableScan")||(-1!==o.search("IndexScan")?e.nodes[s].fontColor="#F56C6C":-1!==o.search("IndexOnlyScan")&&(e.nodes[s].fontColor="#E6A23C"))):l in i?(e.nodes[s].color="#f8e3c5",-1!==o.search("HashJoin")||-1!==o.search("IndexNLJoin")&&(e.nodes[s].fontColor="#409EFF")):e.nodes[s].color="#c8c9cc"}}else if(1!==e.rootId)for(let a=0;a<e.nodes.length;a++)delete e.nodes[a].color,delete e.nodes[a].fontColor},new i["default"]({el:"#app",router:ae,components:{App:d},template:"<App/>"})},"57f1":function(e,t,a){},"71ca":function(e,t,a){e.exports=a.p+"static/img/feedback.5ca00943.jpg"},"7a9f":function(e,t,a){"use strict";a("a46d")},"7e78":function(e,t,a){"use strict";a("c559")},"848d":function(e,t,a){e.exports=a.p+"static/img/step2.d8961ff7.jpg"},"85ec":function(e,t,a){},8840:function(e,t,a){},"8fe0":function(e,t,a){},"916d":function(e,t,a){},"9b57":function(e,t,a){"use strict";a("b9a2")},a46d:function(e,t,a){},a82f:function(e,t,a){},b445:function(e,t,a){"use strict";a("916d")},b9a2:function(e,t,a){},c559:function(e,t,a){},c939:function(e,t,a){e.exports=a.p+"static/img/suggest.af99574e.jpg"},cf0d:function(e,t,a){},d7f0:function(e,t,a){"use strict";a("2b44")},e858:function(e,t,a){"use strict";a("138e")},f33d:function(e,t,a){e.exports=a.p+"static/img/step1.d08d3282.jpg"},f803:function(e,t,a){"use strict";a("57f1")},fa7c:function(e,t,a){},fd53:function(e,t,a){"use strict";a("cf0d")}});
//# sourceMappingURL=app.0f92667f.js.map